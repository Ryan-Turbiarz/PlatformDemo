<?xml version="1.0" encoding="utf-8"?>
<ui:ProductGroupViewBase 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:ui="uk.co.dubit.platform.components.catalogue.ui.*">
	
	<mx:Script>
		<![CDATA[
			import mx.effects.Fade;
			override protected function loadProductGroup() : void
			{
				viewStack.selectedChild = loadingProductsView;
				
				super.loadProductGroup();
			}
			
			override protected function onProductsLoaded() : void
			{
				viewStack.selectedChild = productGroup.products.length > 0 ? productView : noProductsView;
			}
		]]>
	</mx:Script>
		
	<mx:ViewStack id="viewStack" width="100%" height="100%">
		
		<mx:Canvas id="productView" width="100%" height="100%" showEffect="{ new Fade() }" hideEffect="{ new Fade() }">
			<mx:TileList width="100%" height="100%" 
						 columnWidth="130" rowHeight="130"
						 backgroundAlpha="0" borderStyle="none" selectable="false"
						 itemRenderer="{ new ClassFactory(ShopItemRenderer) }" 
						 dataProvider="{ productGroup.products }"/>	
		</mx:Canvas>
		
		<mx:Canvas id="loadingProductsView" width="100%" height="100%" showEffect="{ new Fade() }" hideEffect="{ new Fade() }">
			<mx:Label horizontalCenter="0" verticalCenter="0"
					  text="Loading your products..." />
		</mx:Canvas>
		
		<mx:Canvas id="noProductsView" width="100%" height="100%" showEffect="{ new Fade() }" hideEffect="{ new Fade() }">
			<mx:Label horizontalCenter="0" verticalCenter="0"
					  text="We're sorry, there are currently no products in this category" />
		</mx:Canvas>
		
	</mx:ViewStack>
</ui:ProductGroupViewBase>