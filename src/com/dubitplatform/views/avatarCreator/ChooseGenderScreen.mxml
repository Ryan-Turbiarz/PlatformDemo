<?xml version="1.0" encoding="utf-8"?>
<avatarEditor:AvatarCreatorSkinViewBase 
	width="100%" height="100%"
	show="{ loadAvatars() }"
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:avatarEditor="uk.co.dubit.platform.components.avatarEditor.ui.*" 
	xmlns:ui="uk.co.dubit.platform.components.avatar.ui.*">
	
	<mx:Metadata>
		[Event(name="backClicked", type="flash.events.Event")]
		[Event(name="nextClicked", type="flash.events.Event")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[			
			import uk.co.dubit.platform.data.IAvatar;
			import uk.co.dubit.properties.Properties;
			
			private function loadAvatars() : void
			{
				malePreview.avatar = editorsModel.getDefaultAvatarByGender("male");
				femalePreview.avatar = editorsModel.getDefaultAvatarByGender("female");
			}
			
			private function avatarSelected(avatar:IAvatar) : void
			{
				avatarEditor.avatar = avatar;
				dispatchEvent(new Event("nextClicked"));
			}
		]]>
	</mx:Script>
	
	<mx:HBox paddingTop="30" paddingLeft="200" width="100%" height="100%">
		<ui:AvatarView id="malePreview" width="160" height="240"
					   action="stand" directionAngle="180" templateURL="{ Properties.getInstance().getProperty('path.anim-server') }"
					   click="avatarSelected(malePreview.avatar)" mouseChildren="false"
					   buttonMode="true" filters="{[new DropShadowFilter(0, 45, 0x000000, 0.7, 5, 5, 1, 2)]}" />
		
		<ui:AvatarView id="femalePreview" width="160" height="240"  
					   action="stand" directionAngle="180" templateURL="{ Properties.getInstance().getProperty('path.anim-server') }"
					   click="avatarSelected(femalePreview.avatar)" mouseChildren="false"
					   buttonMode="true" filters="{[new DropShadowFilter(0, 45, 0x000000, 0.7, 5, 5, 1, 2)]}" />
	</mx:HBox>				

</avatarEditor:AvatarCreatorSkinViewBase>