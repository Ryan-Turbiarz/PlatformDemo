<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="400" height="300" xmlns:quests="com.dubitplatform.views.quests.*">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import uk.co.dubit.platform.components.new_quest.QuestObjective;
			import uk.co.dubit.platform.components.new_quest.Quests;
			
			[Bindable] private var quests:Quests = Quests.getInstance();
		]]>
	</fx:Script>
	
	<mx:VBox width="100%" height="100%" paddingLeft="0" paddingRight="0" paddingTop="15" paddingBottom="0">
		
		<mx:Accordion width="100%" height="100%" creationPolicy="all" borderStyle="none">
			<mx:Repeater id="questsRepeater" dataProvider="{ quests.activeQuests }" >
				<mx:VBox width="100%" height="100%" label="{ questsRepeater.currentItem.name }" paddingLeft="15" paddingRight="15" paddingTop="15" paddingBottom="15">
					
					<mx:Text text="{questsRepeater.currentItem.description}" selectable="false" fontWeight="bold" width="100%"/>
					
					<mx:Box paddingTop="10" paddingBottom="10" width="100%"><mx:HRule width="100%"/></mx:Box>
					
					<mx:List dataProvider="{ questsRepeater.currentItem.objectives }" itemRenderer="{ new ClassFactory(ObjectiveView) }" width="100%" height="100%" borderStyle="none" variableRowHeight="true" useRollOver="false" />
					
				</mx:VBox>				
			</mx:Repeater>
		</mx:Accordion>
	</mx:VBox>
</s:Group>
