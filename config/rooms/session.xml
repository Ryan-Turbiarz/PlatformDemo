<?xml version="1.0" encoding="UTF-8"?>
<SessionRoom id="session" xmlns:xi="http://www.w3.org/2001/XInclude">
	
	<Behaviour>
		<onFixUp>
			<Trace message="Session created "/>
			<Startup/>
		</onFixUp>
		<onChangeRoom>
			<Call behaviourID="EnterRoom" roomName="{Event.roomName}"/>
		</onChangeRoom>
	</Behaviour>	

	<BehaviourDefinition id="startup">
		<Call behaviourID="EnterRoom" roomName="mansion"/>
	</BehaviourDefinition>	
	
	<BehaviourDefinition id="EnterRoom">
		<Trace message="EnterRoom called: roomName={Event.roomName}"/>
				
		<ChangeRoom roomName="{Event.roomName}" useServer="false">
			<loadAssetError>
				<Trace message="loadAssetError called in script!"/>
			</loadAssetError>
			<loadVitalAssetError>
				<Alert message="loadVitalAssetError called in script!">
					<Ok>
						<ExecuteBehaviour target="enterDemoRoom"/>
					</Ok>
				</Alert>
			</loadVitalAssetError>
		</ChangeRoom>
	</BehaviourDefinition>
	
	<Map>
.		<Location name="Cannibal Town" roomID="huts" id="tacotikitownRoom"/>
		<Location name="Dark Docks" roomID="docks" id="darkdocksRoom"/>
		<Location name="Mansion" roomID="mansion" id="mansionRoom"/>
	</Map>
		
	<Experience points="0">
		<Level points="0" name="Getting Started" message="" />
		<Level points="20" name="New Arrival" message="Congratualtion you are now a new arrival, and we've awarded you a basic ball!" />
		<Level points="50" name="Learner" message="Blah blah"/>
		<Level points="100" name="Playful" message="Blah blah"/>
		<Triggers>
			<OnLevelUp>
				<Trace message="OnLevelUp level={Event.level}"/>
			</OnLevelUp>
			<OnAwardedExperience>
				<Trace message="OnAwardedExperience level={Event.level}"/>
			</OnAwardedExperience>
		</Triggers>
	</Experience>	
	
</SessionRoom>
