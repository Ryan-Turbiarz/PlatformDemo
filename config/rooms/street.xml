<?xml version="1.0" encoding="UTF-8"?>
<ChatRoom xmlns:xi="http://www.w3.org/2001/XInclude" id="docks">
	<Attribute key="startX" value="500" type="number"/>
	<Attribute key="startY" value="600" type="number"/>
	
	<MouseMovementController/>
	<CollisionController target="{Room.player}"/>
	
	<Collision width="1694" height="650" id="walkableArea" solid="true">
		<Image assetID="hitAsset"/>
	</Collision>
	
	<Filters id="playerFilters">
		<DepthFilter id="depthFilter" scaleBack="-0.4" scaleFront="0.7"/>
		<DepthFilter id="playerDepthFilter" scaleBack="-0.45" scaleFront="0.1"/>
	</Filters>
	
	<Scene id="scene" target="{Room.player}" viewportWidth="784" viewportHeight="445" width="1694" height="650">
		<ParallaxLayer mouseEnabled="false" xm="0.5" ym="0.6">
			<DisplayObject2D id="sky" assetID="skyAsset" x="0" y="0" mouseEnabled="false"/>
		</ParallaxLayer>
		<ParallaxLayer mouseEnabled="false" xm="0.6" ym="1">
			<DisplayObject2D id="bg1" assetID="bg1Asset" x="0" y="180" mouseEnabled="false"/>
		</ParallaxLayer>
		<ParallaxLayer mouseEnabled="false" xm="0.7" ym="1">
			<DisplayObject2D id="bg2" assetID="bg2Asset" x="0" y="180" mouseEnabled="false"/>
		</ParallaxLayer>
		<ParallaxLayer mouseEnabled="false" xm="0.8" ym="1">
			<DisplayObject2D id="bg3" assetID="bg3Asset" x="0" y="180" mouseEnabled="false"/>
		</ParallaxLayer>
		<ParallaxLayer mouseEnabled="false" xm="0.9" ym="1">
			<DisplayObject2D id="bg4" assetID="bg4Asset" x="0" y="180" mouseEnabled="false"/>
		</ParallaxLayer>
		<ParallaxLayer mouseEnabled="false" xm="1" ym="1">
			<DisplayObject2D id="bg5" assetID="bg5Asset" x="0" y="180" mouseEnabled="false"/>
		</ParallaxLayer>
		<DisplayObject2D id="click" assetID="clickAsset" mouseEnabled="true" clickThrough="true" alpha="0"/>
		<ZSortingDisplayObject id="furniture">
			<Character id="player" filters="{Room.playerFilters}" speed="0" defaultSpeed="15" x="{Room.startX}" y="{Room.startY}" originX="200" originY="375" collidable="true" clickThrough="true" displayObjectClass="uk.co.dubit.graphics.render2D.ActionPlayer">
				<Actions id="actions" defaultAction="stand">
					<Stand id="stand" path="avatar/stand.swf"/>
					<Walk id="walk" path="avatar/walk.swf"/>
				</Actions>
			</Character>			
		</ZSortingDisplayObject>
		<ZSortingDisplayObject id="playerMessages"/>
	</Scene>
	
	<Assets>
		<Asset id="hitAsset" url="[base.url]images/street/hit.png"/>
		<Asset id="clickAsset" url="[base.url]images/street/click.png"/>
		<Asset id="skyAsset" url="[base.url]images/street/sky.png"/>
		<Asset id="bg1Asset" url="[base.url]images/street/bg1.png"/>
		<Asset id="bg2Asset" url="[base.url]images/street/bg2.png"/>
		<Asset id="bg3Asset" url="[base.url]images/street/bg3.png"/>
		<Asset id="bg4Asset" url="[base.url]images/street/bg4.png"/>
		<Asset id="bg5Asset" url="[base.url]images/street/bg5.png"/>
	</Assets>
	
	<Trigger event="OnClick" gameObject="{Room.click}">
		<MoveTo gameObject="{Room.player}" x="{Room.player.x}" y="{Room.player.y}" targetX="{Event.x}" targetY="{Event.y}"/>
	</Trigger>
	
</ChatRoom>
