<?xml version="1.0" encoding="UTF-8"?>
<ChatRoom id="snow" xmlns:xi="http://www.w3.org/2001/XInclude">

	<Attribute key="startX" value="430" type="number" />
	<Attribute key="startY" value="360" type="number" />
	
	<ActorMouseMovementProxy directions="8"/>
	<TargetedCollisionProxy target="{Room.steve}"/>	
	
	<Collision width="887" height="631" id="walkableArea" solid="true">
		<Asset assetID="hit" x="0" y="0" />
	</Collision>
	
	<Filters>
		<DepthFilter id="playerDepthFilter" scaleBack="-0.1" scaleFront="0.6" />
	</Filters>
	
	<Scene id="scene" target="{Room.player}" viewportWidth="760" viewportHeight="418" width="887" height="631">
		<DisplayObject2D id="background" assetID="background" mouseEnabled="false" />
		<DisplayObject2D id="click" assetID="click" mouseEnabled="true" clickThrough="true" alpha="0"/>
		<ZSortingDisplayObject id="furniture">
			<DisplayObject2D id="sign" assetID="sign" x="0" y="425" originX="0" originY="425" mouseEnabled="false"/>
			<Character id="player" filter="{Room.playerDepthFilter}" speed="0" defaultSpeed="5.5" x="{Room.startX}" y="{Room.startY}" originX="112" originY="269" collidable="true" mouseEnabled="true" clickThrough="true" displayObjectClass="uk.co.dubit.graphics.render2D.ActionPlayer">
				<Actions id="actions" defaultAction="stand">
					<Stand id="stand" path="images/avatar/stand.swf"/>
					<Walk id="walk" path="images/avatar/walk.swf"/>
				</Actions>
			</Character>
		</ZSortingDisplayObject>
		<DisplayObject2D id="foreground" assetID="foreground" x="0" y="0" originX="0" originY="0" mouseEnabled="false"/>
		<ZSortingDisplayObject id="playerMessages" />		
	</Scene>
	
	<Assets>
		<Asset id="hit" url="[base.url]images/snow/hit.png"/>
		<Asset id="click" url="[base.url]images/snow/click.png"/>
		<Asset id="background" url="[base.url]images/snow/background.png"/>
		<Asset id="foreground" url="[base.url]images/snow/foreground.png"/>
		<Asset id="sign" url="[base.url]images/snow/sign.png"/>
		<Asset id="player" url="[base.url]images/avatar/player.png" />
	</Assets>
	
	<Sounds target="{Room.player}" >	
	</Sounds>
	
	<Trigger event="OnClick" gameObject="{Room.click}">	
		<MoveTo gameObject="{Room.player}" x="{Room.player.x}" y="{Room.player.y}" targetX="{Event.x}" targetY="{Event.y}"/>
		<ShowBubble gameObjectID="{Room.player.id}" message="Test chat bubble sd s sds ds dsds dsds ds ds s" yOffset="-150"/>
	</Trigger>

</ChatRoom>